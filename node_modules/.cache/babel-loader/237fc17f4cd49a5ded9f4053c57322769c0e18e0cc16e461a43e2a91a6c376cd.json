{"ast":null,"code":"// src/components/MicOptions.jsx\nimport React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";let recognition;function MicOptions(_ref){let{setVoiceInput,setVoiceOutput,setShowMicOptions,handleUserPrompt}=_ref;const handleVoiceInput=()=>{if(!('webkitSpeechRecognition'in window||'SpeechRecognition'in window)){alert(\"‚ùå Voice input not supported in this browser.\");return;}setVoiceInput(true);setShowMicOptions(false);recognition=new(window.SpeechRecognition||window.webkitSpeechRecognition)();recognition.lang='en-US';recognition.start();recognition.onresult=function(event){const transcript=event.results[0][0].transcript;// Set transcript to the input box (React controlled)\nconst inputBox=document.querySelector('input[type=\"text\"]');if(inputBox){inputBox.value=transcript;// Call the function to handle prompt submission\nhandleUserPrompt(transcript);// üëà auto-submit after speaking\n}};recognition.onerror=function(event){alert(\"üé§ Voice input error: \"+event.error);};};const handleVoiceOutput=()=>{setVoiceOutput(true);alert(\"üîä Voice output enabled\");setShowMicOptions(false);};const disableMic=()=>{setVoiceInput(false);setVoiceOutput(false);setShowMicOptions(false);// Stop voice input\ntry{if(recognition)recognition.abort();}catch(e){}// Stop voice output\ntry{window.speechSynthesis.cancel();}catch(e){}alert(\"‚ùå Mic disabled\");};return/*#__PURE__*/_jsxs(\"div\",{id:\"micOptions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleVoiceInput,children:\"\\uD83C\\uDF99 Take Voice Input\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleVoiceOutput,children:\"\\uD83D\\uDD0A Read Response\"}),/*#__PURE__*/_jsx(\"button\",{onClick:disableMic,children:\"\\u274C Disable Mic\"})]});}export default MicOptions;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","recognition","MicOptions","_ref","setVoiceInput","setVoiceOutput","setShowMicOptions","handleUserPrompt","handleVoiceInput","window","alert","SpeechRecognition","webkitSpeechRecognition","lang","start","onresult","event","transcript","results","inputBox","document","querySelector","value","onerror","error","handleVoiceOutput","disableMic","abort","e","speechSynthesis","cancel","id","children","onClick"],"sources":["C:/Users/VENKAT/Downloads/unknown/algoverse/frontend/src/components/MicOptions.jsx"],"sourcesContent":["// src/components/MicOptions.jsx\r\nimport React from 'react';\r\n\r\nlet recognition;\r\n\r\nfunction MicOptions({ setVoiceInput, setVoiceOutput, setShowMicOptions, handleUserPrompt }) {\r\n  const handleVoiceInput = () => {\r\n    if (!('webkitSpeechRecognition' in window || 'SpeechRecognition' in window)) {\r\n      alert(\"‚ùå Voice input not supported in this browser.\");\r\n      return;\r\n    }\r\n\r\n    setVoiceInput(true);\r\n    setShowMicOptions(false);\r\n\r\n    recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();\r\n    recognition.lang = 'en-US';\r\n    recognition.start();\r\n\r\n    recognition.onresult = function (event) {\r\n      const transcript = event.results[0][0].transcript;\r\n      \r\n      // Set transcript to the input box (React controlled)\r\n      const inputBox = document.querySelector('input[type=\"text\"]');\r\n      if (inputBox) {\r\n        inputBox.value = transcript;\r\n\r\n        // Call the function to handle prompt submission\r\n        handleUserPrompt(transcript);  // üëà auto-submit after speaking\r\n      }\r\n    };\r\n\r\n    recognition.onerror = function (event) {\r\n      alert(\"üé§ Voice input error: \" + event.error);\r\n    };\r\n  };\r\n\r\n  const handleVoiceOutput = () => {\r\n    setVoiceOutput(true);\r\n    alert(\"üîä Voice output enabled\");\r\n    setShowMicOptions(false);\r\n  };\r\n\r\n  const disableMic = () => {\r\n    setVoiceInput(false);\r\n    setVoiceOutput(false);\r\n    setShowMicOptions(false);\r\n\r\n    // Stop voice input\r\n    try {\r\n      if (recognition) recognition.abort();\r\n    } catch (e) {}\r\n\r\n    // Stop voice output\r\n    try {\r\n      window.speechSynthesis.cancel();\r\n    } catch (e) {}\r\n\r\n    alert(\"‚ùå Mic disabled\");\r\n  };\r\n\r\n  return (\r\n    <div id=\"micOptions\">\r\n      <button onClick={handleVoiceInput}>üéô Take Voice Input</button>\r\n      <button onClick={handleVoiceOutput}>üîä Read Response</button>\r\n      <button onClick={disableMic}>‚ùå Disable Mic</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MicOptions;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,GAAI,CAAAC,WAAW,CAEf,QAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAyE,IAAxE,CAAEC,aAAa,CAAEC,cAAc,CAAEC,iBAAiB,CAAEC,gBAAiB,CAAC,CAAAJ,IAAA,CACxF,KAAM,CAAAK,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,GAAI,EAAE,yBAAyB,EAAI,CAAAC,MAAM,EAAI,mBAAmB,EAAI,CAAAA,MAAM,CAAC,CAAE,CAC3EC,KAAK,CAAC,8CAA8C,CAAC,CACrD,OACF,CAEAN,aAAa,CAAC,IAAI,CAAC,CACnBE,iBAAiB,CAAC,KAAK,CAAC,CAExBL,WAAW,CAAG,IAAKQ,MAAM,CAACE,iBAAiB,EAAIF,MAAM,CAACG,uBAAuB,EAAE,CAAC,CAChFX,WAAW,CAACY,IAAI,CAAG,OAAO,CAC1BZ,WAAW,CAACa,KAAK,CAAC,CAAC,CAEnBb,WAAW,CAACc,QAAQ,CAAG,SAAUC,KAAK,CAAE,CACtC,KAAM,CAAAC,UAAU,CAAGD,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACD,UAAU,CAEjD;AACA,KAAM,CAAAE,QAAQ,CAAGC,QAAQ,CAACC,aAAa,CAAC,oBAAoB,CAAC,CAC7D,GAAIF,QAAQ,CAAE,CACZA,QAAQ,CAACG,KAAK,CAAGL,UAAU,CAE3B;AACAV,gBAAgB,CAACU,UAAU,CAAC,CAAG;AACjC,CACF,CAAC,CAEDhB,WAAW,CAACsB,OAAO,CAAG,SAAUP,KAAK,CAAE,CACrCN,KAAK,CAAC,wBAAwB,CAAGM,KAAK,CAACQ,KAAK,CAAC,CAC/C,CAAC,CACH,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9BpB,cAAc,CAAC,IAAI,CAAC,CACpBK,KAAK,CAAC,yBAAyB,CAAC,CAChCJ,iBAAiB,CAAC,KAAK,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAoB,UAAU,CAAGA,CAAA,GAAM,CACvBtB,aAAa,CAAC,KAAK,CAAC,CACpBC,cAAc,CAAC,KAAK,CAAC,CACrBC,iBAAiB,CAAC,KAAK,CAAC,CAExB;AACA,GAAI,CACF,GAAIL,WAAW,CAAEA,WAAW,CAAC0B,KAAK,CAAC,CAAC,CACtC,CAAE,MAAOC,CAAC,CAAE,CAAC,CAEb;AACA,GAAI,CACFnB,MAAM,CAACoB,eAAe,CAACC,MAAM,CAAC,CAAC,CACjC,CAAE,MAAOF,CAAC,CAAE,CAAC,CAEblB,KAAK,CAAC,gBAAgB,CAAC,CACzB,CAAC,CAED,mBACEV,KAAA,QAAK+B,EAAE,CAAC,YAAY,CAAAC,QAAA,eAClBlC,IAAA,WAAQmC,OAAO,CAAEzB,gBAAiB,CAAAwB,QAAA,CAAC,+BAAmB,CAAQ,CAAC,cAC/DlC,IAAA,WAAQmC,OAAO,CAAER,iBAAkB,CAAAO,QAAA,CAAC,4BAAgB,CAAQ,CAAC,cAC7DlC,IAAA,WAAQmC,OAAO,CAAEP,UAAW,CAAAM,QAAA,CAAC,oBAAa,CAAQ,CAAC,EAChD,CAAC,CAEV,CAEA,cAAe,CAAA9B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}